@import "tailwindcss";

/* ==============================
   Design Tokens
   ============================== */
:root{
  --bg:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --card:#ffffff;
  --line:#e5e7eb;
  --brand:#2563eb;
  --brand-ink:#f8fafc;
  --shadow:0 4px 18px rgba(0,0,0,.06);
  --maxw:1160px;
  --radius:16px;

  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* ==============================
   Base / Resets
   ============================== */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); }
body { font-family: var(--font-sans); }
img { max-width: 100%; height: auto; display: block; }
a { color: var(--brand); text-decoration: none; }
a:hover { opacity: .9; }

/* Container */
.wrap { max-width: var(--maxw); margin: 0 auto; padding: 24px 20px; }

/* Utility text */
.muted { color: var(--muted); }

/* Crumbs */
.crumbs { font-size: .95rem; color: var(--muted); margin-bottom: 10px; }
.crumbs a { color: var(--muted); }
.crumbs a:hover { color: var(--text); }

/* ==============================
   Hero (Home)
   ============================== */
.hero {
  display: grid;
  grid-template-columns: 1.1fr .9fr;
  align-items: center;
  gap: 40px;
  margin-top: 28px;
}
.eyebrow {
  font-weight: 600; color: var(--muted);
  letter-spacing: .12em; text-transform: uppercase;
  font-size: .78rem;
}
.title {
  font-weight: 800; line-height: 1.05;
  margin: .35rem 0; font-size: clamp(2rem, 4.6vw, 3.75rem);
}
.lede { color: var(--muted); font-size: 1.05rem; max-width: 56ch; }
@media (max-width: 860px){
  .hero { grid-template-columns: 1fr; text-align: center; }
  .lede { margin: 0 auto; }
}

/* Profile image (Home) */
.hero-img { display: grid; place-items: center; }
.profile-wrap {
  position: relative;
  width: clamp(220px, 28vw, 380px);
  aspect-ratio: 3 / 4;
  border-radius: 50% / 55%;
  overflow: hidden;
  background: linear-gradient(181deg, #ffec02 0%, #c50000 100%);
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}
.profile-wrap picture { display: block; width: 100%; height: 100%; }
/* the actual <img> has class="profile-photo" from index.astro */
.profile-wrap img.profile-photo {
  position: relative;
  z-index: 1; /* over glare */
  width: 100%; height: 100%;
  object-fit: cover; object-position: center top;
  display: block;
}
/* soft glare (under the image) */
.profile-wrap::before {
  content: ""; position: absolute; inset: 0; z-index: 0;
  background: radial-gradient(100% 100% at 50% 20%,
              rgba(255,255,255,0.25), rgba(0,0,0,0));
}
/* decorative rim */
.profile-wrap::after {
  content: ""; position: absolute; inset: 0; z-index: 2;
  border-left: 4px solid rgba(0,0,0,0.1);
  border-right: 4px solid rgba(0,0,0,0.1);
  border-bottom: 4px solid rgba(0,0,0,0.1);
  border-top: none; border-radius: inherit; pointer-events: none;
}
@media (max-width: 640px) { .profile-wrap { width: clamp(200px, 52vw, 320px); } }

/* Clean hero variant for photo block */
.hero--cleanphoto .hero-img,
.hero-img--clean { border: none; border-radius: 0; overflow: visible; box-shadow: none; background: transparent; }
.hero--cleanphoto .hero-img img { border-radius: 0; box-shadow: none; }

/* ==============================
   Buttons
   ============================== */
.btn, .cta {
  display: inline-block;
  background: var(--brand); color: var(--brand-ink);
  padding: 12px 18px;
  border-radius: 999px;
  font-weight: 700;
  box-shadow: var(--shadow);
}
.btn.secondary { background: #f3f4f6; color: #111827; border: 1px solid var(--line); }

/* ==============================
   Sections
   ============================== */
.section { margin-top: 56px; }
.section h2 { font-size: clamp(1.4rem, 2.6vw, 2rem); margin: 0 0 16px 0; }

/* ==============================
   Project Cards / Grids (Home lists)
   ============================== */
.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 20px;
}
.card {
  grid-column: span 6;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .15s ease;
}
.card:hover { transform: translateY(-2px); box-shadow: 0 8px 26px rgba(0,0,0,.08); }
.thumb {
  display: block;
  width: 100%;
  aspect-ratio: 16/9;
  background: #f8fafc;
  border-bottom: 1px solid var(--line);
  overflow: hidden;
}
.thumb img { width: 100%; height: 100%; object-fit: cover; object-position: top; }
.body { padding: 16px 18px; }
.kicker { font-size: .85rem; color: var(--muted); margin: 0; }
.card h3 { margin: 6px 0 4px 0; font-size: 1.15rem; }
.tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
.tag {
  font-size: .78rem; background: #eff6ff; color: #1d4ed8;
  border: 1px solid #bfdbfe; border-radius: 999px; padding: 4px 8px;
}
.card a.view { display: inline-block; margin-top: 10px; font-weight: 700; }
@media (max-width:980px){ .card { grid-column: span 12; } }

/* ==============================
   Services & CTA banner
   ============================== */
.services { display: grid; grid-template-columns: repeat(3,1fr); gap: 16px; }
.service {
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 18px;
  background: var(--card);
}
.service h4 { margin: 0 0 6px 0; }
.service p { margin: 0; color: var(--muted); }
@media (max-width:860px){ .services { grid-template-columns: 1fr; } }

.cta-banner{
  margin: 48px 0;
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 24px;
  display: flex; align-items: center; justify-content: space-between; gap: 18px;
  background: linear-gradient(90deg,#f8fafc, #eef2ff);
}
.cta-banner p{ margin: 0; color: #1f2937; }
@media (max-width:720px){ .cta-banner{ flex-direction: column; text-align: center; } }

/* ==============================
   Project Detail Pages
   ============================== */
.project-grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 340px;
  gap: 28px;
}
@media (max-width: 960px) {
  .project-grid { grid-template-columns: 1fr; }
  .project-grid aside { order: 2; }
}
/* hero image (rectangular, not circular) */
.project-hero .hero-img img {
  border-radius: var(--radius);
    object-fit: cover;
    width: 100%;
    max-height: 500px;
    object-position: top;
    display: block;
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
    margin-bottom: 2rem;
}
/* metadata chips */
.meta {
  display: flex; flex-wrap: wrap; gap: 14px;
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 12px 14px; margin: 16px 0; background: #fff;
}
.meta .chip {
  font-size: .85rem;
  background: #eff6ff; color: #1d4ed8;
  border: 1px solid #bfdbfe; border-radius: 999px; padding: 6px 10px;
}
/* cards inside project page */
.project .card { grid-column: auto; }
.project-grid aside .card + .card { margin-top: 16px; }

/* testimonial block (supports <img.avatar> or <picture><img>) */
.testimonial {
  display: grid; grid-template-columns: 64px 1fr;
  gap: 14px; align-items: start;
}
.testimonial .avatar,
.testimonial .avatar img {
  width: 64px; height: 64px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid var(--line);
  display: block;
}
.testimonial blockquote { margin: 0; font-size: 1.02rem; line-height: 1.55; }
.testimonial footer { margin-top: 8px; color: var(--muted); font-size: .95rem; }
.stars { display: inline-flex; gap: 2px; margin-left: 8px; font-size: .95rem; }
.stars .on { opacity: 1; } .stars .off { opacity: .25; }

/* bottom nav on project pages */
.bottom-nav {
  display: flex; justify-content: space-between; align-items: center;
  margin-top: 24px; padding-top: 18px; border-top: 1px solid var(--line);
}
.bottom-nav a { color: var(--text); }

/* ==============================
   Case Gallery + Modal
   ============================== */
.case-gallery-castle {
  --ratio: 16/9;
  display: grid; gap: 16px;
  grid-template-columns: repeat(2, minmax(0,1fr));
}
@media (max-width: 860px){ .case-gallery-castle { grid-template-columns: 1fr; } }
.case-gallery-castle .tile {
  margin: 0; border: 1px solid var(--line); border-radius: var(--radius);
  box-shadow: var(--shadow); overflow: hidden; background: #fff;
  display: flex; flex-direction: column;
}
.case-gallery-castle .tile img {
  width: 100%; aspect-ratio: var(--ratio);
  object-fit: cover; display: block; cursor: zoom-in;
}
.case-gallery-castle .tile figcaption {
  font-size: .92rem; line-height: 1.4; padding: 10px 12px;
  color: var(--muted); background: #fafafa; border-top: 1px solid var(--line);
}

/* Modal */
.gallery-modal[hidden] { display: none !important; }
.gallery-modal {
  position: fixed; inset: 0; background: rgba(0,0,0,0.7);
  display: grid; place-items: center; z-index: 1000; padding: 20px;
}
.gallery-modal img {
  max-width: 95vw; max-height: 90vh;
  object-fit: contain; border-radius: 12px; background: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
.gallery-modal .close {
  position: absolute; top: 12px; right: 12px;
  border: 0; background: rgba(255,255,255,0.9);
  border-radius: 999px; width: 40px; height: 40px;
  font-size: 28px; line-height: 40px; text-align: center;
  cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.25);
}
.gallery-modal .close:hover { background: #fff; }

/* ==============================
   Contact (kept minimal; contact.css can extend)
   ============================== */
.contact-page { max-width: 720px; }
.contact-form { display: grid; gap: 16px; margin-top: 20px; }
.contact-form label { display: grid; gap: 4px; font-weight: 600; }
.contact-form input,
.contact-form textarea {
  padding: 10px 12px; border: 1px solid var(--line);
  border-radius: var(--radius); font-family: inherit; font-size: 1rem;
  resize: vertical;
}
.contact-form input:focus,
.contact-form textarea:focus {
  outline: 2px solid var(--brand); border-color: var(--brand);
}
.card{border:1px solid var(--line);border-radius:var(--radius);background:#fff;box-shadow:var(--shadow);padding:20px;margin-bottom:18px}
  .card h2{margin:0px 0 10px 0;font-size:1.25rem}
  .card p{color:var(--muted)}

.card{
    grid-column:span 6;
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    overflow:hidden;
    box-shadow:var(--shadow);
    transition:transform .15s ease, box-shadow .15s ease;
  }
  .card:hover{ transform:translateY(-2px); box-shadow:0 8px 26px rgba(0,0,0,.08); }
.card h3{ margin:6px 0 4px 0; font-size:1.15rem; }
  .card a.view{ display:inline-block; margin-top:10px; font-weight:700; }
@media (max-width:980px){
    .card{ grid-column:span 12; }
  }
.project .card{ grid-column: auto; }
.project-grid aside .card + .card{ margin-top:16px; }
.hero-img picture{
  width:100%;
}
.card li{
  list-style:disc;
  margin-left:2rem;
}
.case-gallery-castle .tile img {
  max-height:200px;
}
.hero{
  margin-bottom:2rem;
}