---
// src/components/Img.astro
// Minimal, build-safe passthrough <img>. No Sharp, no transforms.
// Accepts only string/number props, so TS won’t coerce booleans like `width` -> true.

interface Props {
  src: string;
  alt?: string;
  width?: string | number;
  height?: string | number;
  sizes?: string;
  loading?: 'lazy' | 'eager';
  decoding?: 'auto' | 'sync' | 'async';
  fetchpriority?: 'high' | 'low' | 'auto';
  class?: string;
  style?: string;
}

const {
  src,
  alt = '',
  width,
  height,
  sizes,
  loading,
  decoding,
  fetchpriority,
  class: className,
  style,
} = Astro.props satisfies Props;

// Don’t mutate or “resolve” the URL — just pass it through.
// (Your pages already feed either /images/*, /_astro/*, data: URIs, or absolute https://)
---
<img
  src={src}
  alt={alt}
  {...(width    ? { width } : {})}
  {...(height   ? { height } : {})}
  {...(sizes    ? { sizes } : {})}
  {...(loading  ? { loading } : {})}
  {...(decoding ? { decoding } : {})}
  {...(fetchpriority ? { fetchpriority } : {})}
  {...(className ? { class: className } : {})}
  {...(style ? { style } : {})}
/>
